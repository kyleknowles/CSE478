
<!DOCTYPE html>
    <html lang="en">
        <head>
            <meta charset="UTF-8" />
            <title>D3 Bar Chart Assignment</title>
            <link rel="stylesheet" href="style.css" />
            <script src="d3.v7.min.js"></script>
            </head>
            <body>
            <svg width="5000" height="120"></svg>
           
            <!--<button onclick = "load()">Button</button>
            <<script src="script.js"></script> -->

            <script>    
                    
    let data = []
    fetch("Basic_Stats.csv")
        .then(response => response.text())
        .then(csv => {
                let rows = csv.split("\n");
                let headers = rows[0].split(",");
                data = rows.slice(1).map(row => {
                let values = row.split(/,(?! )(?<! )/);
                //dict = {}
                    return headers.reduce((obj, key, i) => {
                        
                        obj[key] = isNaN(values[i]) ? 0 : values[i]
                        return obj; }, {});
                        //data.append(dict);
                });
                return data
            })
            .then (data => {
               // alert(data)
                const svg = d3.select("svg");
                const barWidth = 40
                //alert("Hello")

                const maxAge = Math.max(...data.map(d => d.Age)); // Find the max value of Age
                alert(maxAge)
                const yScale = d3.scaleLinear()
                    .domain([0, maxAge])
                    .range([0, 100]);  // Adjust the 100 to your SVG's height

                const bars = svg.selectAll("rect")
                    .data(data)
                    .enter()
                    .append("rect")
                    .attr("x", (d, i) => i * (barWidth + 5))
                    .attr("y", d => 100 - d.Age)
                    .attr("width", barWidth)
                    .attr("height", d => d.Age)
                    .attr("fill", "steelblue")
            });
            
       

    
    //alert(data)
    
    /*
    const xScale = d3.scaleBand()
        .domain(["A", "B", "C", "D"])
        .range([0, 400])
        .padding(0.1);
    */

   


                


                </script>
    </body>
</html>
