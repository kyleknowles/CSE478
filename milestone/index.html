
<!DOCTYPE html>
    <html lang="en">
        <head>
            <meta charset="UTF-8" />
            <title>D3 Bar Chart Assignment</title>
            <link rel="stylesheet" href="style.css" />
            <script src="d3.v7.min.js"></script>
            </head>
            <body>
            <svg width="5000" height="120"></svg>
           
            <!-- <button onclick = "load()">Button</button> -->
            <!-- <script src="script.js"></script> -->

            <script>    
                    
                    async function loadAndDraw() {
    const response = await fetch("Basic_Stats.csv");
    const csv = await response.text();

    const rows = csv.trim().split("\n");
    const headers = rows[0].split(",");
    const data = rows.slice(1).map(row => {
        const values = row.split(/,(?! )(?<! )/);
        return headers.reduce((obj, key, i) => {
            obj[key] = isNaN(values[i]) ? 0 : +values[i];
            return obj;
        }, {});
    });

    const svg = d3.select("svg");
    const barWidth = 40;

    svg.selectAll("rect")
        .data(data)
        .enter()
        .append("rect")
        .attr("x", (d, i) => i * (barWidth + 5))
        .attr("y", d => 200 - d.Age)
        .attr("width", barWidth)
        .attr("height", d => d.Age)
        .attr("fill", "steelblue");
}

loadAndDraw();
    
    /*
    const xScale = d3.scaleBand()
        .domain(["A", "B", "C", "D"])
        .range([0, 400])
        .padding(0.1);
    */

    //alert("Hello")




                


                </script>
    </body>
</html>
